#!/usr/bin/env sh
set -eu

ROOT_DIR="$(git rev-parse --show-toplevel)"
cd "$ROOT_DIR"

if command -v python >/dev/null 2>&1; then
  PYTHON_BIN="python"
elif command -v python3 >/dev/null 2>&1; then
  PYTHON_BIN="python3"
else
  echo "pre-commit: python/python3 not found in PATH" >&2
  exit 1
fi

"$PYTHON_BIN" ./update-question-pools-manifest.py
git add question-pools.json
